{"remainingRequest":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\src\\components\\Middle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\src\\components\\Middle.vue","mtime":1607700598591},{"path":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mikhail\\Documents\\WEB\\Web\\Lesson_10\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2lkZWJhciBmcm9tICJAL2NvbXBvbmVudHMvc2lkZWJhci9TaWRlYmFyIjsNCmltcG9ydCBJbmRleCBmcm9tICJAL2NvbXBvbmVudHMvbWlkZGxlL0luZGV4IjsNCmltcG9ydCBFbnRlciBmcm9tICJAL2NvbXBvbmVudHMvbWlkZGxlL0VudGVyIjsNCmltcG9ydCBXcml0ZVBvc3QgZnJvbSAiQC9jb21wb25lbnRzL21pZGRsZS9Xcml0ZVBvc3QiOw0KaW1wb3J0IEVkaXRQb3N0IGZyb20gIkAvY29tcG9uZW50cy9taWRkbGUvRWRpdFBvc3QiOw0KaW1wb3J0IFVzZXJzIGZyb20gIkAvY29tcG9uZW50cy9taWRkbGUvdXNlcnMvVXNlcnMiOw0KaW1wb3J0IFBvc3RQYWdlIGZyb20gIkAvY29tcG9uZW50cy9taWRkbGUvUG9zdFBhZ2UiOw0KDQoNCmltcG9ydCBSZWdpc3RlciBmcm9tICIuL21pZGRsZS9SZWdpc3RlciI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiTWlkZGxlIiwNCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBwYWdlOiAiSW5kZXgiLA0KICAgICAgICAgICAgcG9zdDogMA0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIFJlZ2lzdGVyLA0KICAgICAgICBXcml0ZVBvc3QsDQogICAgICAgIEVudGVyLA0KICAgICAgICBJbmRleCwNCiAgICAgICAgU2lkZWJhciwNCiAgICAgICAgRWRpdFBvc3QsDQogICAgICAgIFVzZXJzLA0KICAgICAgICBQb3N0UGFnZQ0KICAgIH0sDQogICAgcHJvcHM6IFsicG9zdHMiLCAidXNlcnMiLCAiY29tbWVudHMiXSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHZpZXdDb21tZW50czogZnVuY3Rpb24gKHBvc3QpIHsNCiAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuY29tbWVudHMpLmZpbHRlcigoY29tbWVudCkgPT4gY29tbWVudC5wb3N0SWQgPT09IHBvc3QuaWQpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICB2aWV3UG9zdHM6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMucG9zdHMpLnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKS5zbGljZSgwLCAyKTsNCiAgICAgICAgfSwNCiAgICAgICAgc29ydFBvc3RzOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnBvc3RzKS5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCk7DQogICAgICAgIH0sDQogICAgICAgIG51bWJlck9mQ29tbWVudHM6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGNvbnN0IG51bWJlcl9vZl9jb21tZW50cyA9IG5ldyBNYXAoKTsNCiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5jb21tZW50cykuZm9yRWFjaCgoY29tbWVudCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChudW1iZXJfb2ZfY29tbWVudHMuaGFzKGNvbW1lbnQucG9zdElkKSkgew0KICAgICAgICAgICAgICAgICAgICBudW1iZXJfb2ZfY29tbWVudHMuc2V0KGNvbW1lbnQucG9zdElkLCBudW1iZXJfb2ZfY29tbWVudHMuZ2V0KGNvbW1lbnQucG9zdElkKSArIDEpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG51bWJlcl9vZl9jb21tZW50cy5zZXQoY29tbWVudC5wb3N0SWQsIDEpOw0KICAgICAgICAgICAgICAgIH19KTsNCiAgICAgICAgICAgIHJldHVybiBudW1iZXJfb2ZfY29tbWVudHM7DQogICAgICAgIH0NCiAgICB9LCBiZWZvcmVDcmVhdGUoKSB7DQogICAgICAgIHRoaXMuJHJvb3QuJG9uKCJvbkNoYW5nZVBhZ2UiLCAocGFnZSkgPT4gdGhpcy5wYWdlID0gcGFnZSk7DQogICAgICAgIHRoaXMuJHJvb3QuJG9uKCJvblNob3dQb3N0IiwgKHBvc3QpID0+IHsNCiAgICAgICAgICAgIHRoaXMucG9zdCA9IHBvc3Q7DQogICAgICAgICAgICB0aGlzLnBhZ2UgPSAiUG9zdFBhZ2UiOw0KICAgICAgICB9KTsNCiAgICB9DQp9DQo="},{"version":3,"sources":["Middle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Middle.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"middle\">\r\n        <Sidebar :posts=\"viewPosts\"/>\r\n        <main>\r\n            <Index v-if=\"page === 'Index'\" :posts=\"sortPosts\" :users=\"users\" :number_of_comments=\"numberOfComments\"/>\r\n            <Enter v-if=\"page === 'Enter'\"/>\r\n            <Register v-if=\"page === 'Register'\"/>\r\n            <WritePost v-if=\"page === 'WritePost'\"/>\r\n            <EditPost v-if=\"page === 'EditPost'\"/>\r\n            <PostPage v-if=\"page === 'PostPage'\" :post=\"post\" :users=\"users\" :comments=\"viewComments(post)\"/>\r\n            <Users v-if=\"page === 'Users'\" :users=\"users\"/>\r\n        </main>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from \"@/components/sidebar/Sidebar\";\r\nimport Index from \"@/components/middle/Index\";\r\nimport Enter from \"@/components/middle/Enter\";\r\nimport WritePost from \"@/components/middle/WritePost\";\r\nimport EditPost from \"@/components/middle/EditPost\";\r\nimport Users from \"@/components/middle/users/Users\";\r\nimport PostPage from \"@/components/middle/PostPage\";\r\n\r\n\r\nimport Register from \"./middle/Register\";\r\n\r\nexport default {\r\n    name: \"Middle\",\r\n    data: function () {\r\n        return {\r\n            page: \"Index\",\r\n            post: 0\r\n        }\r\n    },\r\n    components: {\r\n        Register,\r\n        WritePost,\r\n        Enter,\r\n        Index,\r\n        Sidebar,\r\n        EditPost,\r\n        Users,\r\n        PostPage\r\n    },\r\n    props: [\"posts\", \"users\", \"comments\"],\r\n    methods: {\r\n        viewComments: function (post) {\r\n            return Object.values(this.comments).filter((comment) => comment.postId === post.id);\r\n        }\r\n    },\r\n    computed: {\r\n        viewPosts: function () {\r\n            return Object.values(this.posts).sort((a, b) => b.id - a.id).slice(0, 2);\r\n        },\r\n        sortPosts: function () {\r\n            return Object.values(this.posts).sort((a, b) => a.id - b.id);\r\n        },\r\n        numberOfComments: function () {\r\n            const number_of_comments = new Map();\r\n            Object.values(this.comments).forEach((comment) => {\r\n                if (number_of_comments.has(comment.postId)) {\r\n                    number_of_comments.set(comment.postId, number_of_comments.get(comment.postId) + 1);\r\n                } else {\r\n                    number_of_comments.set(comment.postId, 1);\r\n                }});\r\n            return number_of_comments;\r\n        }\r\n    }, beforeCreate() {\r\n        this.$root.$on(\"onChangePage\", (page) => this.page = page);\r\n        this.$root.$on(\"onShowPost\", (post) => {\r\n            this.post = post;\r\n            this.page = \"PostPage\";\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}